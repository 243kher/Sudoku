import grille

def test_creation_grille():
    sudoku = grille.Grille(9)
    sudoku.creer_tableau()
    print("Grille Sudoku créée :")
    print(sudoku)

def test_validation_sudoku():
    sudoku_valide = [
        [5, 3, 4, 6, 7, 8, 9, 1, 2],
        [6, 7, 2, 1, 9, 5, 3, 4, 8],
        [1, 9, 8, 3, 4, 2, 5, 6, 7],
        [8, 5, 9, 7, 6, 1, 4, 2, 3],
        [4, 2, 6, 8, 5, 3, 7, 9, 1],
        [7, 1, 3, 9, 2, 4, 8, 5, 6],
        [9, 6, 1, 5, 3, 7, 2, 8, 4],
        [2, 8, 7, 4, 1, 9, 6, 3, 5],
        [3, 4, 5, 2, 8, 6, 1, 7, 9]
        ]

    sudoku_invalide = [
        [5, 3, 0, 0, 7, 0, 0, 0, 0],
        [6, 0, 0, 1, 9, 5, 0, 0, 0],
        [0, 9, 8, 0, 0, 0, 0, 6, 0],
        [8, 0, 0, 0, 6, 0, 0, 0, 3],
        [4, 0, 0, 8, 0, 3, 0, 0, 1],
        [7, 0, 0, 0, 2, 0, 0, 0, 6],
        [0, 6, 0, 0, 0, 0, 2, 8, 0],
        [0, 0, 0, 4, 1, 9, 0, 0, 5],
        [0, 0, 0, 0, 8, 0, 0, 7, 7]  # La dernière ligne contient deux 7
    ]

    sudoku = grille.Grille(9)
    print("Validation du Sudoku valide:")
    print(sudoku.est_sudoku(sudoku_valide))  # Devrait renvoyer True

    sudoku = grille.Grille(9)
    print("Validation du Sudoku invalide:")
    print(sudoku.est_sudoku(sudoku_invalide))  # Devrait renvoyer False

def test_resolution_sudoku():
    sudoku = grille.Grille(9)
    sudoku.creer_tableau()
    sudoku_genere = sudoku.creer_sudoku()
    print("Sudoku à résoudre :")
    print(sudoku_genere)

    success, sudoku_resolue = sudoku.completer_sudoku(sudoku_genere)

    if success:
        print("Sudoku résolu avec succès :")
        print(sudoku_resolue)
    else:
        print("Impossible de résoudre le Sudoku.")

def test_creation_sudoku():
    sudoku = grille.Grille(9)
    sudoku_genere = sudoku.creer_sudoku()
    print("Sudoku généré",sudoku_genere)

def test_tableau_case_vides():
    sudoku = grille.Grille(9)
    tableau = [
        [5, 3, 0, 0, 7, 0, 0, 0, 0],
        [6, 0, 0, 1, 9, 5, 0, 0, 0],
        [0, 9, 8, 0, 0, 0, 0, 6, 0],
        [8, 0, 0, 0, 6, 0, 0, 0, 3],
        [4, 0, 0, 8, 0, 3, 0, 0, 1],
        [7, 0, 0, 0, 2, 0, 0, 0, 6],
        [0, 6, 0, 0, 0, 0, 2, 8, 0],
        [0, 0, 0, 4, 1, 9, 0, 0, 5],
        [0, 0, 0, 0, 8, 0, 0, 7, 9]
    ]

    cases_vides = sudoku.tableau_case_vides(tableau)

    # Vérifie que les coordonnées des cases vides sont correctes

    print("Coordonnées des cases vides :")
    print(cases_vides)

def test_choix_possibles():
    sudoku = grille.Grille(9)
    tableau = [
        [5, 3, 0, 0, 7, 0, 0, 0, 0],
        [6, 0, 0, 1, 9, 5, 0, 0, 0],
        [0, 9, 8, 0, 0, 0, 0, 6, 0],
        [8, 0, 0, 0, 6, 0, 0, 0, 3],
        [4, 0, 0, 8, 0, 3, 0, 0, 1],
        [7, 0, 0, 0, 2, 0, 0, 0, 6],
        [0, 6, 0, 0, 0, 0, 2, 8, 0],
        [0, 0, 0, 4, 1, 9, 0, 0, 5],
        [0, 0, 0, 0, 8, 0, 0, 7, 9]
    ]
    cases_vides = sudoku.tableau_case_vides(tableau)
    x, y = cases_vides[1]
    valeurs_possibles = sudoku.choix_possibles(tableau, x, y)
    print(f"Les valeurs possibles pour la case ({x}, {y}) sont : {valeurs_possibles}")



if __name__ == "__main__":
    test_creation_grille()
    test_validation_sudoku()
    test_resolution_sudoku()
    test_creation_sudoku()
    test_tableau_case_vides()
    test_choix_possibles()
